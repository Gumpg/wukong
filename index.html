<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Wukong : A highly extensible full-text search engine written in Go " />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Wukong</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/huichen/wukong">View on GitHub</a>

          <h1 id="project_title">Wukong</h1>
          <h2 id="project_tagline">A highly extensible full-text search engine written in Go </h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/huichen/wukong/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/huichen/wukong/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h2>
<a name="key-features" class="anchor" href="#key-features"><span class="octicon octicon-link"></span></a>Key features</h2>

<ul>
<li>High efficiency (10M docs indexed in 7 minutes, 2.5ms search latency, 1.6K RPC throughput)</li>
<li>Support Chinese word segmentation (using <a href="https://github.com/huichen/sego">sego</a>)</li>
<li>Support computing keyword proximity</li>
<li>Support computing BM25 relevance</li>
<li>Support ranking with custom scoring criteria</li>
<li>Support adding and removing index online</li>
<li>Can be easily extended to support distributed search</li>
<li>Released under Apache License v2</li>
</ul><p>Demo <a href="http://soooweibo.com">http://soooweibo.com</a></p>

<h2>
<a name="installupdate" class="anchor" href="#installupdate"><span class="octicon octicon-link"></span></a>Install/Update</h2>

<p>First install dependencies</p>

<pre><code>go get -u github.com/huichen/sego
go get -u github.com/huichen/murmur
</code></pre>

<p>Then install Wukong engine</p>

<pre><code>go get -u github.com/huichen/wukong
</code></pre>

<p>Need Go version &gt;= 1.1.1</p>

<h2>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>The simplest example (from examples/simplest_example.go)</p>

<div class="highlight"><pre><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">"github.com/huichen/wukong/engine"</span>
    <span class="s">"github.com/huichen/wukong/types"</span>
    <span class="s">"log"</span>
<span class="p">)</span>

<span class="kd">var</span> <span class="p">(</span>
    <span class="c1">// searcher is goroutine safe</span>
    <span class="nx">searcher</span> <span class="p">=</span> <span class="nx">engine</span><span class="p">.</span><span class="nx">Engine</span><span class="p">{}</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Initialization</span>
    <span class="nx">searcher</span><span class="p">.</span><span class="nx">Init</span><span class="p">(</span><span class="nx">types</span><span class="p">.</span><span class="nx">EngineInitOptions</span><span class="p">{</span>
        <span class="nx">SegmenterDictionaries</span><span class="p">:</span> <span class="s">"github.com/huichen/wukong/data/dictionary.txt"</span><span class="p">})</span>

    <span class="c1">// Adding documents to index</span>
    <span class="nx">searcher</span><span class="p">.</span><span class="nx">IndexDocument</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">types</span><span class="p">.</span><span class="nx">DocumentIndexData</span><span class="p">{</span><span class="nx">Content</span><span class="p">:</span> <span class="s">"Baidu's acquisition will be the most expensive one in the history of Chinaâ€™s web industry."</span><span class="p">})</span>
    <span class="nx">searcher</span><span class="p">.</span><span class="nx">IndexDocument</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nx">types</span><span class="p">.</span><span class="nx">DocumentIndexData</span><span class="p">{</span><span class="nx">Content</span><span class="p">:</span> <span class="s">"Baidu agrees to acquire mobile-app store operator 91 Wireless for $1.9 billion."</span><span class="p">})</span>
    <span class="nx">searcher</span><span class="p">.</span><span class="nx">IndexDocument</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nx">types</span><span class="p">.</span><span class="nx">DocumentIndexData</span><span class="p">{</span><span class="nx">Content</span><span class="p">:</span> <span class="s">"Baidu is the most popular search engine in China."</span><span class="p">})</span>

    <span class="c1">// Wait until all docs are indexed</span>
    <span class="nx">searcher</span><span class="p">.</span><span class="nx">FlushIndex</span><span class="p">()</span>

    <span class="c1">// Search</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">Print</span><span class="p">(</span><span class="nx">searcher</span><span class="p">.</span><span class="nx">Search</span><span class="p">(</span><span class="nx">types</span><span class="p">.</span><span class="nx">SearchRequest</span><span class="p">{</span><span class="nx">Text</span><span class="p">:</span><span class="s">"Baidu China"</span><span class="p">}))</span>
<span class="p">}</span>
</pre></div>

<p>Isn't it simple!</p>

<p>Then checkout a <a href="https://github.com/huichen/wukong/blob/master/docs/en/codelab.md">codelab</a> that teaches you how to write a Weibo search website in less than 200 lines of Go code.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Wukong maintained by <a href="https://github.com/huichen">huichen</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
